<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Soil Report API Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 40px;
      background: #f4f6f8;
    }
    h1 {
      color: #2d6a4f;
    }
    input, button {
      margin-top: 12px;
    }
    pre {
      margin-top: 20px;
      padding: 16px;
      background: #111;
      color: #0f0;
      overflow-x: auto;
    }
  </style>
</head>
<body>

  <h1>Soil Report Upload Test</h1>

  <input type="file" id="fileInput" accept=".pdf" />
  <br />
  <button onclick="upload()">Upload & Analyze</button>

  <pre id="output">Response will appear here...</pre>

  <script>
    async function upload() {
      const fileInput = document.getElementById("fileInput")
      const output = document.getElementById("output")

      if (!fileInput.files.length) {
        alert("Please select a PDF file")
        return
      }

      const formData = new FormData()
      formData.append("file", fileInput.files[0])

      output.textContent = "Uploading and processing..."

      try {
        const res = await fetch("http://localhost:3000/api/soil/upload", {
          method: "POST",
          body: formData
        })

        const data = await res.json()
        output.textContent = JSON.stringify(data, null, 2)

      } catch (err) {
        output.textContent = "Error: " + err.message
      }
    }
  </script>

</body>
</html>
